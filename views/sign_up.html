<!DOCTYPE html>
<html>
<head>
	<link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/sign.css" rel="stylesheet">
	<title>Sign Up Page</title>
</head>
<body style="font-family: cursive; font-weight: bold;">
  	
      <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Dashboard</a>
          </div>
          <div id="navbar" class="navbar-collapse collapse">
          <form class="navbar-form navbar-left" method="POST" action="/users/search">
            <div class="form-group">
              <input type="text" class="form-control" name="searchusername" placeholder="search by username or tag">
            </div>
          </form>
          </div><!--/.navbar-collapse -->
        </div>
      </nav>
    <div class="container">
    <div class="row container">
        <div class="col-lg-12">
          <% if (success_msg!=null && success_msg!="") { %>
            <div class="alert alert-success"><%= success_msg %></div>
          <% } %>

          <% if (error_msg!=null && error_msg!="") { %>
            <div class="alert alert-danger"><%= error_msg %></div>
          <% } %>

          <% if (error!=null && error!="") { %>
            <div class="alert alert-danger"><%= error %></div>
          <% } %>          
        </div>
      </div>
      <form method="post" action="/users/signup" style="width: 50%; margin-left: 25%">
        <h2 class="form-signin-heading">Register</h2>
        <br>
        <label for="inputName" class="">Name</label>
        <input type="text" id="inputName" class="form-control" placeholder="john doe" name="name" required>
        <br>
        <label for="inputGUCID" class="">GUC ID</label>
        <input type="text" id="inputGUCID" class="form-control" placeholder="ex: 34-5862" name="gucid" required autofocus>
        <br>
        <label for="inputUsername" class="">Username</label>
        <input type="text" id="inputUsername" class="form-control" placeholder="totti_frooti" name="username" required autofocus>
		    <br>
        <label for="inputPassword" class="">Password</label>
        <input type="password" id="inputPassword" class="form-control" placeholder="Password" name="password" required>
        <br>
        <label for="inputPassword" class="">Confirm password</label>
        <input type="password" id="inputPassword2" class="form-control" placeholder="Password" name="confirmpassword" required>
        <br>
        <label for="inputEmail" class="">Email</label>
        <input type="email" id="inputEmail" class="form-control" placeholder="john@gmail.com" name="email" required>
        <br>
         <div class="form-group">
          <label for="sel2">Select a major:</label>
          <select class="form-control" id="major" name="major" required>
            <option value="" disabled selected style="display:none;">choose</option>
            <option value="met">MET</option>
            <option value="iet">IET</option>
            <option value="mecha">Mechatronics</option>
            <option value="production">Production</option>
          </select>
        </div>
        <br>
        <div class="form-group">
  		  <label for="sel1">Select a type:</label>
  		  <select class="form-control" id="userType" onchange="updateType()" name="type" required>
          <option value="" disabled selected style="display:none;">choose</option>
  		    <option value="student">Student</option>
  		    <option value="club">Club</option>
  		  </select>
  		  </div>
  		  <br>
        <button class="btn btn-lg btn-primary btn-block" type="submit">Sign Up</button>
      </form>
      <br>
      <br>
      <button class="btn btn-lg btn-primary btn-block" style="width: 50%; margin-left: 25%"onclick="redirectSignIn();">Sign In</button>

    </div> <!-- /container -->
<script type="text/javascript">
	var redirectSignIn = function() {
		window.location.href = '/users/signin'; 
	}
  var updateType = function() {
    var currType = document.getElementById('userType').value;
    console.log(currType);
    if(currType=="club") {
      document.getElementById("inputGUCID").required = false;
      document.getElementById("major").required = false;            
    } else {
      document.getElementById("inputGUCID").required = true;      
    }
  }
</script>
</body>
</html>